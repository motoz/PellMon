<%inherit file="layout.html"/>
<%! scripts = ['parameters.js'] %>
<%def name="title()">
       	${heading}
</%def>

<div class="container">
    <h1>${heading}</h1>
    <div class="row">
        <div class="col-md-2">
            <div class="navbar navbar-default">
                <ul class="nav nav-pills nav-stacked">
                    <li class="">
                        <a href="/parameters/All">All</a>
                    </li>
    		        <li class="">
    			        <a href="/parameters/Blower">Blower</a>
    		        </li>
    		        <li class="">
    			        <a href="/parameters/Feeder">Feeder</a>
    		        </li>
    		        <li class="">
    			        <a href="/parameters/Cleaning">Cleaning</a>
    		        </li>
    		        <li class="">
    			        <a href="/parameters/Overview">Overview</a>
    		        </li>
    		        <li class="">
    			        <a href="/parameters/Ignition" >Ignition</a>
    		        </li>
    		        <li class="">
    			        <a href="/parameters/Oxygen">Oxygen</a>
    		        </li>
    		        <li class="">
    			        <a href="/parameters/Temps">Temperature</a>
    		        </li>
                </ul>
            </div>

            <div class="navbar navbar-default">
                <ul class="nav">
                      <%
                         if level=='All':
                            switch='Less..'
                            link='Basic'
                         else:
                            switch='More..'
                            link='All'
                       %>

                    <li><a href="/setlevel/${link}">${switch}</a></li>
                </ul>
            </div>
        </div>
        <div class="col-md-10">

        %if len(commands)>0:
        <div class="row">
            <div class="col-md-12">
            <h3>Control</h3>
            %for key in commands:
            <%
            val=' '
            name=key['name']
            longname=key['longname']
            if key['type'] == 'W':
                range=' - command'
            if key['type'] == 'R':
                range=''
            if key['type'] == 'R/W':
                range='  (%u..%u)'%(key['min'], key['max'])
            %>
	            <form id="${key}-form" name="${name}" class="param" action="" method="post">
		            <input type="hidden" id="${name}-text" placeholder=" " value="0" name="${name}" />
                    <div class="form-group">
		              <input type="submit" value="${longname}" class="command btn btn-primary" />
                    </div>
	            </form>
            %endfor
            </div>
        </div>
        %endif

        <div class="row">
        %if len(data)>0:
            <div class="col-md-6">
                <h3>Data</h3>
                %for key in data:
                <%
                val=' '
                name=key['name']
                longname=key['longname']
                if key['type'] == 'W':
                    range=' - command'
                if key['type'] == 'R':
                    range=''
                if key['type'] == 'R/W':
                    range='  (%u..%u)'%(key['min'], key['max'])
                %>
	                <form id="${key}-form" name="${name}" class="param form-inline" action="" method="post">
                        %if key['description']:
                        <h5 data-toggle="collapse" data-target="#viewdetails-${name}" href="#" for="${name}-text"> ${longname} <i class="glyphicon glyphicon-info-sign"> </i></h5>
                        %else:
                        <h5 for="${name}-text"> ${longname}</h5>
                        %endif
                        <div class="collapse" class="text-info" id="viewdetails-${name}"> ${key['description'].decode('utf-8')}<br>(${key['unit'].decode('utf-8')})</div>
                        <div class="form-group">
		                  <input type="text" id="${name}-text" placeholder="${val}" value="${val}" name="${name}" class="form-control" />
                        </div>
		                  <input type="submit" value="Get" class="get btn btn-default" />
	                </form>


                %endfor
            </div>
        %endif

        %if len(params)>0:
            <div class="col-md-6">
                <h3>Settings</h3>
                %for key in params:
                <%
                val=' '
                name=key['name']
                longname=key['longname']
                if key['type'] == 'W':
                    range=' - command'
                if key['type'] == 'R':
                    range=''
                if key['type'] == 'R/W':
                    range='  (%u..%u)'%(key['min'], key['max'])
                %>
	                <form id="${key}-form" name="${name}" class="param form-inline" action="" method="post">

                        %if key['description']:
                        <h5 data-toggle="collapse" data-target="#viewdetails2-${name}" href="#" for="${name}-text"> ${longname} <i class="glyphicon glyphicon-info-sign"> </i></h5>
                        %else:
                        <h5 for="${name}-text"> ${longname}</h5>
                        %endif

                        <div class="collapse" class="text-info" id="viewdetails2-${name}"> ${key['description'].decode('utf-8')}<br>Setting range is from ${key['min']} to ${key['max']}<br>(${key['unit'].decode('utf-8')}) </div>
                        <div class="form-group">
		                  <input type="text" id="${name}-text" placeholder="${val}" value="${val}" name="${name}" class="form-control" />
                        </div>
		                <input type="submit" value="Get" class="get btn btn-default" />
		                <input type="submit" value="Set" class="set btn btn-primary" />
	                </form>
                %endfor
            </div>
        %endif
        </div>
    </div>
</div>