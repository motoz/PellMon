<%inherit file="layout.html"/>
<%! scripts = ['spin.js','index.js','logview.js'] %>

<%def name="title()">
    Graph
</%def>

<div class="container">
    <div class="row">
        <div class="col-md-12">
        %if not empty:
            <h4>Graph</h4>
                <div>
                    <img class="graph image-responsive image-lazy" id="graph" data-time-choice="" data-direction="" data-src="image" src="media/img/spinner.gif" />
                </div>
            <p>
                Show:
                %for index in range(len(timeChoices)):
                    ${'<a href="#" data-time-choice="%s" class="timeChoice %s">%s</a> | ' % (timeChoices[index], 'selected' if timeChoice == timeChoices[index] else '', timeNames[index])}
                %endfor
                <a href="/graphconf">Add/remove lines</a>
            </p>
            <div class="text-center">
                <button class="btn btn-default left"><<</button>
                ${'<button class="btn btn-default autorefresh %s">Autorefresh graph</button>' % ('active' if autorefresh else '')}
                <button class="btn btn-default right">>></button>
            </div>

            <h4>Consumption</h4>
            <div>
                <img class="graph image-responsive image-lazy" id="consumption" data-src="consumption" src="media/img/spinner.gif" />
            </div>
            <h4>Silo level</h4>
            <div>
                <img class="graph image-responsive image-lazy" id="silolevel" data-src="silolevel" src="media/img/spinner.gif" />
            </div>
        </div>
    %else:
        <div class="col-md-12">
            <p>
                <strong>Please select which lines to plot!</strong>
            </p>
            <a href="/graphconf" class="btn btn-default">Configure</a>
        </div>
    %endif
        <div id="lines" data-lines="5" class="col-md-12">
            <h4>Events</h5>
        </div>
    </div>
</div>
